
`r chapnum = 12`


# Experience Rating using Bonus-Malus {#ChapBonusMalus}

## Introduction {#S:ERBM:Intro}

**Bonus-malus system**, which is used interchangeably as "no-fault
discount", "merit rating", "experience rating" or "no-claim discount" in
different countries, is based on penalizing insureds who are responsible
for one or more claims by a premium surcharge (malus), and rewarding insureds
with a premium discount (bonus) if they do not have any claims. 
A bonus-malus system can be perceived as a commercial implementation of the 
ideal credibility premium as discussed in Chapter \@ref(ChapCredibility), where premium payable
for insureds are calculated on an individual basis. Insurers use
bonus-malus systems for two main purposes: to encourage drivers to drive
more carefully in a year without any claims, and to ensure insureds to
pay premiums proportional to their risks based on their claims
experience via an experience rating mechanism. 

**No Claim Discount (NCD) system** is an experience rating system commonly
used in motor insurance. It represents an attempt to categorize insureds
into homogeneous groups who pay premiums based on their claims
experience. Depending on the rules in the scheme, new policyholders may
be required to pay full premium initially, and obtain discounts in the
future years as a result of claim-free years. An *NCD* system rewards
policyholders for not making any claims during a year. In other
words, it grants a bonus to a careful driver. This bonus principle may
affect policy holders' decisions whether to claim or not to claim,
especially when involving accidents with slight damages, which is known
as the **hunger for bonus** phenomenon. The 'hunger for bonus' under
an *NCD* system may reduce insurers' claim costs, and may be able to
offset the expected decrease in premium income.

## *NCD* System in Several Countries {#S:ERBM:NCD}

### *NCD* System in Malaysia

Before the liberalization of Motor Tariff on 1st July 2017, the rating
of motor insurance in Malaysia was governed by the Motor Tariff. Under the
tariff, the rate charged should not be lower than the rates specified
under the classes of risks, to ensure that the price competition among
insurers will not go below the country's economic level. The basic
rating factors considered were scope of insurance, cubic capacity of
vehicle and estimated value of vehicle (or sum insured, whichever is
lower). Under the Motor Tariff, the final premium to be paid is adjusted
by the policyholder's claim experience, or equivalently, his *NCD*
entitlement.

Effective on 1st July 2017, the premium rates for motor insurance are
liberalized, or de-tariffed. The pricing of premium is now determined by
individual insurers and **takaful** operators, and the consumers are able to
enjoy a wider choice of motor insurance products at competitive prices.
Since tariff liberalization encourages innovation and competition among
insurers and takaful operators, the premiums are based on broader risk
factors other than the two rating factors specified in the Motor Tariff,
i.e. sum insured and cubic capacity of vehicle. Other rating factors may
be defined in the risk profile of an insured, such as age of vehicle,
age of driver, safety and security features of vehicle, geographical
location of vehicle and traffic offences of driver. As different
insurers and takaful operators have different ways of defining the risk
profile of an insured, the price of a policy may differ from one insurer
to another. However, the *NCD* structure from the Motor Tariff remains
'unchanged' and continue to exist, and is 'transferable' from one
insurer, or from one takaful operator, to another.

The discounts in the Malaysian *NCD* system are divided into six classes,
starting from the initial class of 0% discount, followed by classes of
25%, 30%, 38.3%, 45% and 55% discounts. [Figure 12.1] 
<!-- \@ref(fig:TransitionMsia)  -->
provides the classes of
NCD system in Malaysia. A claim-free year indicates that a policyholder
is entitled to move one-step forward to the next discount class, such as
from a 0% discount to a 25% discount in the renewal year. If a
policyholder is already at the highest class, which is at a 55%
discount, a claim-free year indicates that the policyholder remains in
the same class. On the other hand, if one or more claims are made within
the year, the *NCD* will be forfeited and the policyholder has to start at
0% discount in the renewal year. This set of transition rules can also be 
summarized as a rule of -1/Top, that is, a class of bonus for a claim-free
year, and moving to the highest class after having one or more claims.
For an illustration purpose,  [Figure 12.1]
<!-- \@ref(fig:TransitionMsia)  -->
shows the classes and the transition diagram for the Malaysian *NCD* system. 

```{r echo = F}
library(gridExtra)
library(grid)
Classes <- c(0,1,2,3,4,"5 (and above)")
Discounts <- c(0,25,30, 38.33, 45, 55)
MalaysiaTab <- cbind(Classes, Discounts)
colnames(MalaysiaTab) <- c("Classes (claim-free years)","Discount (%)")
# png(filename = "Figures/gridMalayTable.png")
# grid.table(MalaysiaTab)
# dev.off()
```

<a id=fig:12.1></a> 

[Figure 12.1]: \#fig:12.1

(ref:TranMalaysia) **Transition Diagram for NCD Classes (Malaysia)**

```{r fig.cap = '(ref:TranMalaysia)', fig.show="hold", out.width="45%", echo=FALSE}
knitr::include_graphics("images/FigureTransitionMsia.png")
knitr::include_graphics("images/gridMalayTable.png")
```

<!-- `r if (knitr:::is_html_output()) '<div class="twoC">'` -->

<!-- ```{r results = 'asis', echo=FALSE, fig.align = "left", out.width = '50%'} -->
<!-- if (knitr:::is_html_output()){ -->
<!-- library(gridExtra) -->
<!-- library(grid) -->
<!-- Classes <- c(0,1,2,3,4,"5 (and above)") -->
<!-- Discounts <- c(0,25,30, 38.33, 45, 55) -->
<!-- MalaysiaTab <- cbind(Classes, Discounts) -->
<!-- colnames(MalaysiaTab) <- c("Classes (claim-free years)","Discount (%)") -->
<!-- grid.table(MalaysiaTab) -->
<!-- } -->
<!-- ``` -->

<!-- ```{r TransitionMsia,  fig.cap = '(ref:TransitionBrazil)', fig.align = "left", echo = F, out.width = '50%'} -->
<!-- if (knitr:::is_html_output()){ -->
<!-- knitr::include_graphics("Figures/FigureTransitionMsia.png") -->
<!-- } -->
<!-- ``` -->
<!-- </div> -->
<!-- `r if (knitr:::is_html_output()) '<div class="clearer"></div>'` -->

***


### NCD Systems in Other Countries

The *NCD* system in Brazil are subdivided into seven classes, with the
following premium levels [@LemaireZi94]: 100, 90, 85, 80, 75, 70, and
65. These premium levels are also equivalent to the following discount
classes: 0%, 10%, 15%, 20%, 25%, 30% and 45%. New policyholders have to
start at 0% discount, or at premium level of 100, and a claim-free year indicates
that a policyholder can move forward at a one-class discount. If one or
more claims incurred within the year, the policyholder has to move one-class
backward for each claim. [Figure 12.2] 
<!-- \ref{fig:TransitionBrazil} -->
shows the classes and the transition diagram for the *NCD*
system in Brazil. This set of transition rules can also be summarized as a rule
of -1/+1, that is, a class of bonus for a claim-free year, and a class of malus
for each claim reported. 


```{r echo = F}
library(gridExtra)
library(grid)
Classes <- c(0,1,2,3,4,5,"6 (and above)")
Discounts <- c(0,10,15,20,25,30,45)
BrazilTab <- cbind(Classes, Discounts)
colnames(BrazilTab) <- c("Classes (claim-free years)","Discount (%)")
# png(filename = "Figures/gridBrazilTable.png")
# grid.table(BrazilTab)
# dev.off()
```

<a id=fig:12.2></a> 

[Figure 12.2]: \#fig:12.2

(ref:TransitionBrazil) **Transition Diagram for *NCD* Classes (Brazil)**

```{r fig.cap = '(ref:TransitionBrazil)', fig.show="hold", out.width="45%", echo=FALSE}
knitr::include_graphics("images/FigureTransitionBrazil.png")
knitr::include_graphics("images/gridBrazilTable.png")
```

<!-- `r if (knitr:::is_html_output()) '<div class="twoC">'` -->

<!-- ```{r results = 'asis', echo=FALSE, fig.align = "left", out.width = '50%'} -->
<!-- if (knitr:::is_html_output()){ -->
<!-- library(gridExtra) -->
<!-- library(grid) -->
<!-- Classes <- c(0,1,2,3,4,5,"6 (and above)") -->
<!-- Discounts <- c(0,10,15,20,25,30,45) -->
<!-- BrazilTab <- cbind(Classes, Discounts) -->
<!-- colnames(BrazilTab) <- c("Classes (claim-free years)","Discount (%)") -->
<!-- grid.table(BrazilTab) -->
<!-- } -->
<!-- ``` -->

<!-- ```{r TransitionBrazil,  fig.cap = '(ref:TransitionBrazil)', fig.align = "left", echo = F, out.width = '50%'} -->
<!-- if (knitr:::is_html_output()){ -->
<!-- knitr::include_graphics("Figures/FigureTransitionBrazil.png") -->
<!-- } -->
<!-- ``` -->
<!-- </div> -->
<!-- `r if (knitr:::is_html_output()) '<div class="clearer"></div>'` -->

***

The *NCD* system in Switzerland are subdivided into twenty-two classes, 
with the following premium levels:
270, 250, 230, 215, 200, 185, 170, 155, 140, 130, 120, 110, 100, 90, 80,
75, 70, 65, 60, 55, 50 and 45 [@LemaireZi94]. These levels are
also equivalent to the following loadings (malus): 170%, 150%, 130%, 115%, 100%,
85%, 70%, 55%, 40%, 30%, 20%, and 10%, and the following discounts: 0%,
10%, 20%, 25%, 30%, 35%, 40%, 45%, 50% and 55%. New policyholders have
to start at 0% discount, or at premium level of 100, and a claim-free year
indicates that a policyholder can move one-class forward. If one or more
claims incurred within the year, the policyholder has to move
four-classes backward for each claim. [Table 12.1] and Figure \@ref(fig:TransitionSwitz) 
respectively show the classes and the transition diagram for the *NCD* system in Switzerland.
This set of transition rule can be summarized as a rule of -1/+4.

<a id=tab:12.3></a> 

[Table 12.1]: \#tab:12.3

Table 12.1. **Classes of *NCD* (Switzerland)**

$$
\small{
\begin{array}{*{20}c}
\hline
\text{Classes} & \text{Loadings } (\%) & \text{Classes} & \text{Discounts } (\%)\\
\hline
{0} & {170} & {12} & {0}\\
{1} & {150} & {13} & {10}\\
{2} & {130} & {14} & {20}\\
{3} & {115} & {15} & {25}\\
{4} & {100} & {16} & {30}\\
{5} & {85} & {17} & {35}\\
{6} & {70} & {18} & {40}\\
{7} & {55} & {19} & {45}\\
{8} & {40} & {20} & {50}\\
{9} & {30} & {21} & {55}\\
{10} & {20} && \\
{11} & {10} && \\
\hline
\end{array}
}
$$


(ref:TransitionSwitz) **Transition Diagram for *NCD* Classes (Switzerland)**

```{r TransitionSwitz, echo=FALSE, fig.cap='(ref:TransitionSwitz)', out.width='60%', fig.align='center'}
knitr::include_graphics("images/FigureTransitionSwitz.png")
```

## *BMS* and Markov Chain Model {#S:ERBM:BMS}

A *BMS* can be represented by a discrete time **Markov chain**. 
A stochastic process is said to possess the Markov property if the evolution 
of the process in the future depends only on the present state but not the past.
A discrete time Markov Chain is a Markov process with discrete state space.  


### Transition Probability

A Markov Chain is determined by its transition probabilities.
The ***transition probability*** from state $i$ (at time $n$) to state $j$ 
(at time $n + 1$) is called a one-step transition probability, and is denoted by
$p_{ij}(n,n+1) = Pr (X_{n + 1} = j|X_n = i)$, $i = 1,2,\ldots,k$, $j = 1,2,\ldots,k$. 
For general transition from time $m$ to time $n$, for $m<n$, by conditioning on
$X_{o}$ for $m\le o\le n$, we have the Chapman-Kolmogorov equation of 

\begin{equation}
p_{ij}(m,n)=\sum_{l\in S} p_{il}(m,o)p_{lj}(o,n).
\end{equation}

A time-homogeneous Markov Chain satisfies the property of $p_{ij}(n,n+t)=p_{ij}^{(t)}$
for all $n$. For instance, we have $p_{ij}(n,n+1)=p_{ij}^{(1)}\equiv p_{ij}$. 
In this case, the Chapman-Kolmogorov equation can be written as 

\begin{equation}
p_{ij}(0,m+n)=\sum_{l\in S} p_{il}(0,m)p_{lj}(m,m+n)=\sum_{l\in S}p_{il}^{(m)}p_{lj}^{(n)}.
\end{equation}

In the context of *BMS*, the transition of the *NCD* classes is governed by the transition probability in a given year. The transition of the *NCD* classes is also a time-homogeneous Markov Chain since the set of transition rules is fixed and independent of time. We can represent the one-step transition probabilities by a $k \times k$ *transition matrix* ${\bf P}=(p_{ij})$ that corresponds to *NCD* classes $0,1,2,\ldots,k-1$.  

$$
\small{
{\bf P} = 
\left[ {\begin{array}{*{20}c}
p_{00} & p_{01} & \ldots & & & p_{0k-1} \\
p_{10} & p_{11} & \ldots & & & p_{1k-1} \\ 
\vdots & \ddots & & & & \vdots \\
p_{k-10} & p_{k-11} & \cdots & & & p_{k-1k-1}   
\end{array} } \right]
}
$$

Here, its $(i,j)$-th element is the transition probability from state $i$ to 
state $j$. In other words, each row of the **transition matrix** 
represents the transition of flowing out of state, whereas each column 
represents the transition of flowing into the state. The summation of transition
probabilities of flowing out of state must equal to 1, or each row of the matrix 
must sum to 1, i.e. $\sum_j p_{ij} = 1$. All probabilities must also
be non-negative (since they are probabilities), i.e. $p_{ij} \ge 0$.

Consider the Malaysian *NCD* system. Let $\{X_{t}:t=0,1,2,\ldots\}$ be the *NCD* class
occupied by a policyholder at time $t$ with state space $S=\{0,1,2,3,4,5\}$. 
Therefore, the transition probability in a no-claim year is equal to the probability 
of transition from state $i$ to state $i+1$, i.e. $p_{ii+1}$. If an insured has 
one or more claims within the year, the probability of transitioning back to state
0 is represented by $p_{i0}=1-p_{ii+1}$. Hence, the Malaysian *NCD* system can be
represented by the following $6\times 6$ transition matrix:

$$
\small{
{\bf P} = 
\left[ {\begin{array}{*{20}c}
p_{00}&p_{01}&0&0&0&0\\
p_{10}&0&p_{12}&0&0&0\\
p_{20}&0&0&p_{23}&0&0\\
p_{30}&0&0&0&p_{34}&0\\
p_{40}&0&0&0&0&p_{45}\\
p_{50}&0&0&0&0&p_{55}
\end{array} }\right] = 
\left[ {\begin{array}{*{20}c}
{1 - p_{01}}&p_{01}&0&0&0&0\\
{1 - p_{12}}&0&p_{12}&0&0&0\\
{1 - p_{23}}&0&0&p_{23}&0&0\\
{1 - p_{34}}&0&0&0&p_{34}&0\\
{1 - p_{45}}&0&0&0&0&p_{45}\\
{1 - p_{55}}&0&0&0&0&p_{55}
\end{array} }\right]
}
$$


**Example `r chapnum`.3.1.** 
Provide the transition matrix for the *NCD* system in Brazil.

**12.3.1','Show Example Solution**

**Solution**

Based on the *NCD* classes and the transition diagram shown in [Figure 12.2]
<!-- \@ref(fig:TransitionBrazil) -->
, the probability of a no-claim year is equal to
the probability of moving one-class forward, whereas the probability of
having one or more claims within the year is equal to the probability of
moving one-class backward for each claim. Therefore, each row can contain two or more
transition probabilities; one probability for advancing to the next
state, and one or more probabilities for moving one-class backward. The
transition matrix is:

$$
\small{
{\bf P} = 
\left[ {\begin{array}{*{20}{c}}
{1 - p_{01}}&p_{01}&0&0&0&0&0\\
{1 - p_{12}}&0&p_{12}&0&0&0&0\\
{1 - \sum_j p_{2j}}&p_{21}&0&p_{23}&0&0&0\\
{1 - \sum_j p_{3j}}&p_{31}&p_{32}&0&p_{34}&0&0\\\
{1 - \sum_j p_{4j}}&p_{41}&p_{42}&p_{43}&0&p_{45}&0\\
{1 - \sum_j p_{5j}}&p_{51}&p_{52}&p_{53}&p_{54}&0&p_{56}\\
{1 - \sum_j p_{6j}}&p_{61}&p_{62}&p_{63}&p_{64}&p_{65}&p_{66}
\end{array} } \right]
}
$$

*** 

</div>

**Example `r chapnum`.3.2.** 
Provide the transition matrix for the *NCD* system in Switzerland.

**12.3.2','Show Example Solution**

**Solution.**

From [Table 12.1] and Figure \@ref(fig:TransitionSwitz), the probability of a no-claim year is equal to the probability of moving one-class forward, whereas the probability of having one or more claims within the year is equal to the probability of moving four-classes backward for each claim. The transition matrix is:

$$
\small{
{\bf P} = 
\left[
{\begin{array}{*{12}{c}}
1 - {p_{01}} & p_{01} & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & \cdots\\
1 - {p_{12}} & 0 & p_{12} & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & \cdots\\
1 - {p_{23}} & 0 & 0 & p_{23} & 0 & 0 & 0 & 0 & 0 & 0 & 0 & \cdots\\
1 - {p_{34}} & 0 & 0 & 0 & p_{34} & 0 & 0 & 0 & 0 & 0 & 0 & \cdots\\
1 - {p_{45}} & 0 & 0 & 0 & 0 & p_{45} & 0 & 0 & 0 & 0 & 0 & \cdots\\
1 - \sum\limits_j {p_{5j}} & p_{51} & 0 & 0 & 0 & 0 & p_{56} & 0 & 0 & 0 & 0 & \cdots\\
1 - \sum\limits_j {p_{6j}} & 0 & p_{62} & 0 & 0 & 0 & 0 & p_{67} & 0 & 0 & 0 & \cdots\\
1 - \sum\limits_j {p_{7j}} & 0 & 0 & p_{73} & 0 & 0 & 0 & 0 & p_{78} & 0 & 0 & \cdots\\
\vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \ddots\\
1 - \sum\limits_j {p_{19,j}} & 0 & 0 & p_{19,3} & 0 & 0 & 0 & p_{19,7} & 0 & 0 & 0 & \cdots\\
1 - \sum\limits_j {p_{20,j}} & 0 & 0 & 0 & p_{20,4} & 0 & 0 & 0 & p_{20,8} & 0 & 0 & \cdots\\
1 - \sum\limits_j {p_{21,j}} & p_{21,1} & 0 & 0 & 0 & p_{21,5} & 0 & 0 & 0 & p_{21,9} & 0 & \cdots
\end{array} } \right]
}
$$


*** 

</div>

## *BMS* and Stationary Distribution {#S:ERBM:StatDist}

### Stationary Distribution

A stationary distribution of a Markov Chain is a probability distribution that 
remains unchanged as time progresses into the future. It is represented by 
a row vector $\boldsymbol \pi =(\pi_{1},\pi_{2},\ldots,\pi_{k})$ with the following properties:

\begin{align}
0\le \pi_{j}\le 1,\notag\\
\sum\limits_{j}\pi_{j}=1,\notag\\
\pi_{j}=\sum\limits_{i}\pi_{i}p_{ij}.
\end{align}

The last equation can be written as $\boldsymbol\pi \bf P=\boldsymbol\pi$. The first two conditions are 
necessary for probability distribution whereas the last property indicates that
the row vector $\boldsymbol\pi$ is invariant (i.e. unchanged) by the one-step transition
matrix. In other words, once the Markov Chain has reached the stationary state,
its probability distribution will stay stationary over time. Mathematically,
the stationary vector $\boldsymbol\pi$ can also be obtained by finding the left eigenvector
of the one-step transition matrix.

**Example `r chapnum`.4.1.** 
Find the stationary distribution for the *NCD* system in Malaysia assuming that the probability of a no-claim year for all *NCD* classes are ${p_0}$.

**12.4.1','Show Example Solution**


**Solution.**
The transition matrix can be re-written as:

$$
\small{
{\bf P} = 
\left[ {\begin{array}{*{20}c}
{1 - p_{0}}&p_{0}&0&0&0&0\\
{1 - p_{0}}&0&p_{0}&0&0&0\\
{1 - p_{0}}&0&0&p_{0}&0&0\\
{1 - p_{0}}&0&0&0&p_{0}&0\\
{1 - p_{0}}&0&0&0&0&p_{0}\\
{1 - p_{0}}&0&0&0&0&p_0
\end{array} }\right]
}
$$


The stationary distribution can be calculated using $\pi_{j}=\sum\limits_{i}\pi_{i}p_{ij}$. The solutions are:

$$
\small{
\begin{array}{lll}
{\pi _0} = \sum\limits_i {\pi_i}p_{i0} = (1 - {p_0})\sum\limits_i {{\pi _i}} = 1 - {p_0}\\
{\pi _1} = \sum\limits_i {\pi _i}p_{i1} = {\pi_0}{p_{01}} = (1 - {p_0}){p_0}\\
{\pi _2} = \sum\limits_i {\pi _i}p_{i2} = {\pi _1}{p_{12}} = (1 - {p_0}){p_0}^2\\
{\pi _3} = \sum\limits_i {\pi _i}p_{i3} = {\pi _2}{p_{23}} = (1 - {p_0}){p_0}^3\\
{\pi _4} = \sum\limits_i {\pi _i}p_{i4} = {\pi _3}{p_{34}} = (1 - {p_0}){p_0}^4\\
{\pi _5} = \sum\limits_i {\pi _i}p_{i5} = {\pi _4}{p_{45}} + {\pi _5}{p_{55}} = (1 - {p_0}){p_0}^5 + {\pi _5}{p_0}\\
\therefore {\pi _5} = \frac{(1 - {p_0}){p_0}^5}{{(1 - {p_0})}} = {p_0}^5
\end{array}
}
$$

*** 

</div>

The stationary distribution shown in Example `r chapnum`.4.1 represents the asymptotic  distribution of the *NCD* system, or the distribution in the long run. As an example, assuming that the probability of a no-claim year is $p_0 = 0.90,$ the ***stationary probabilities*** are:

$$
\small{
\begin{array}{l}
{\pi _0} = 1 - {p_0} = 0.1000\\
{\pi _1} = (1 - {p_0}){p_0} = 0.0900\\
{\pi _2} = (1 - {p_0}){p_0}^2 = 0.0810\\
{\pi _3} = (1 - {p_0}){p_0}^3 = 0.0729\\
{\pi _4} = (1 - {p_0}){p_0}^4 = 0.0656\\
{\pi _5} = {p_0}^5 = 0.5905
\end{array}
}
$$

In other words, ${\pi_0} = 0.10$ indicates that 10% of insureds will eventually belong to class 0, ${\pi _1} = 0.09$ indicates that 
9% of insureds will eventually belong to class 1, and so forth, until ${\pi _5} = 0.59$, which indicates that 59% of
insureds will eventually belong to class 5.

### `R` Code for a Stationary Distribution

We can use the left eigenvector of a transition matrix to calculate a stationary distribution. The following `R` code can be used to
calculate the left eigenvector:

**1. Create a Transition Matrix**

```{r LeftEigen1, eval=FALSE}
#create transition matrix
entries = c(0.1,0.9,0,0,0,0,
            0.1,0,0.9,0,0,0,
            0.1,0,0,0.9,0,0,
            0.1,0,0,0,0.9,0,
            0.1,0,0,0,0,0.9,
            0.1,0,0,0,0,0.9)
(TP <- matrix(entries,nrow=6,byrow=TRUE) )
```

**LeftEigen.1', 'Show R Output**

```{r ref.label = 'LeftEigen1', warning=FALSE, message=FALSE, comment=NA}
```

</div>


